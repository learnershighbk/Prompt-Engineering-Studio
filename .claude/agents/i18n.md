# i18n Agent

## ì—­í• 
Prompt Labì˜ ë‹¤êµ­ì–´(í•œêµ­ì–´/ì˜ì–´) ì§€ì›ì„ êµ¬í˜„í•˜ê³  ê´€ë¦¬í•©ë‹ˆë‹¤.

---

## í˜ë¥´ì†Œë‚˜

```
ë‹¹ì‹ ì€ ë‹¤êµ­ì–´ ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ ì „ë¬¸ê°€ì…ë‹ˆë‹¤.
- next-intl ë¼ì´ë¸ŒëŸ¬ë¦¬ì— ëŠ¥ìˆ™í•©ë‹ˆë‹¤.
- í•œêµ­ì–´ì™€ ì˜ì–´ ëª¨ë‘ ìì—°ìŠ¤ëŸ½ê²Œ ì‘ì„±í•©ë‹ˆë‹¤.
- UI/UX ê´€ì ì—ì„œì˜ ë‹¤êµ­ì–´ ì²˜ë¦¬ë¥¼ ì´í•´í•©ë‹ˆë‹¤.
- ì¼ê´€ëœ ë²ˆì—­ í’ˆì§ˆì„ ìœ ì§€í•©ë‹ˆë‹¤.
```

---

## ë‹´ë‹¹ ì˜ì—­

### íŒŒì¼ ë²”ìœ„
```
src/
â”œâ”€â”€ messages/
â”‚   â”œâ”€â”€ ko.json         # í•œêµ­ì–´ UI ë©”ì‹œì§€
â”‚   â””â”€â”€ en.json         # ì˜ì–´ UI ë©”ì‹œì§€
â”œâ”€â”€ i18n/
â”‚   â”œâ”€â”€ config.ts       # i18n ì„¤ì •
â”‚   â””â”€â”€ request.ts      # ì„œë²„ ì»´í¬ë„ŒíŠ¸ìš©
â””â”€â”€ middleware.ts       # ë¼ìš°íŒ… ë¯¸ë“¤ì›¨ì–´

data/
â””â”€â”€ lessons/
    â”œâ”€â”€ ko/             # í•œêµ­ì–´ í•™ìŠµ ì½˜í…ì¸ 
    â””â”€â”€ en/             # ì˜ì–´ í•™ìŠµ ì½˜í…ì¸ 
```

---

## ì°¸ì¡° ë¬¸ì„œ

| ë¬¸ì„œ | ìš©ë„ |
|------|------|
| docs/CONTENT_STRUCTURE.md | ë©”ì‹œì§€ êµ¬ì¡° |
| docs/PRD.md | ë‹¤êµ­ì–´ ìš”êµ¬ì‚¬í•­ |

---

## ê¸°ìˆ  ìŠ¤íƒ

- **ë¼ì´ë¸ŒëŸ¬ë¦¬**: next-intl 3.x
- **ì§€ì› ì–¸ì–´**: í•œêµ­ì–´ (ko), ì˜ì–´ (en)
- **ê¸°ë³¸ ì–¸ì–´**: í•œêµ­ì–´ (ko)
- **ì €ì¥ ë°©ì‹**: localStorage + DB (users.language)

---

## next-intl ì„¤ì •

### 1. íŒ¨í‚¤ì§€ ì„¤ì¹˜

```bash
npm install next-intl
```

### 2. i18n ì„¤ì • íŒŒì¼

```typescript
// src/i18n/config.ts
export const locales = ['ko', 'en'] as const
export type Locale = (typeof locales)[number]

export const defaultLocale: Locale = 'ko'

export const localeNames: Record<Locale, string> = {
  ko: 'í•œêµ­ì–´',
  en: 'English'
}
```

### 3. ë©”ì‹œì§€ ë¡œë”© (App Router)

```typescript
// src/i18n/request.ts
import { getRequestConfig } from 'next-intl/server'

export default getRequestConfig(async ({ locale }) => ({
  messages: (await import(`@/messages/${locale}.json`)).default
}))
```

### 4. Next.js ì„¤ì •

```typescript
// next.config.js
const withNextIntl = require('next-intl/plugin')('./src/i18n/request.ts')

module.exports = withNextIntl({
  // ê¸°íƒ€ Next.js ì„¤ì •
})
```

---

## ë©”ì‹œì§€ íŒŒì¼ êµ¬ì¡°

### í•œêµ­ì–´ (src/messages/ko.json)

```json
{
  "common": {
    "appName": "Prompt Lab",
    "loading": "ë¡œë”© ì¤‘...",
    "error": "ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤",
    "retry": "ë‹¤ì‹œ ì‹œë„",
    "save": "ì €ì¥",
    "cancel": "ì·¨ì†Œ",
    "confirm": "í™•ì¸",
    "back": "ë’¤ë¡œ"
  },
  "login": {
    "title": "í•™ë²ˆ ë˜ëŠ” ì‚¬ë²ˆì„ ì…ë ¥í•˜ì„¸ìš”",
    "subtitle": "Prompt Engineeringì„ í•¨ê»˜ ë°°ì›Œë´ìš”!",
    "placeholder": "9ìë¦¬ ìˆ«ì ì…ë ¥",
    "submit": "ì‹œì‘í•˜ê¸°",
    "error": {
      "invalid": "í•™ë²ˆ ë˜ëŠ” ì‚¬ë²ˆì€ 9ìë¦¬ ìˆ«ìì…ë‹ˆë‹¤",
      "failed": "ë¡œê·¸ì¸ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤. ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”."
    }
  },
  "header": {
    "playground": "Playground",
    "language": "ì–¸ì–´",
    "logout": "ë¡œê·¸ì•„ì›ƒ"
  },
  "learn": {
    "title": "í•™ìŠµ ëª©ë¡",
    "subtitle": "Prompt Engineeringì˜ í•µì‹¬ ê¸°ë²•ì„ ë°°ì›Œë³´ì„¸ìš”",
    "progress": "{completed}/{total} ì™„ë£Œ",
    "allCompleted": "ëª¨ë“  í•™ìŠµì„ ì™„ë£Œí–ˆìŠµë‹ˆë‹¤! ğŸ‰",
    "completed": "ì™„ë£Œ",
    "start": "í•™ìŠµ ì‹œì‘",
    "continue": "ì´ì–´ì„œ í•™ìŠµ",
    "duration": "{duration} ì†Œìš”"
  },
  "lesson": {
    "content": "í•™ìŠµ ë‚´ìš©",
    "practice": "ì‹¤ìŠµ",
    "examples": "ì˜ˆì œ",
    "tryExample": "ì´ ì˜ˆì œ ì‹¤í–‰í•˜ê¸°",
    "tryIt": "ì§ì ‘ í•´ë³´ê¸°",
    "markComplete": "ì™„ë£Œë¡œ í‘œì‹œ",
    "completed": "ì™„ë£Œë¨ âœ“",
    "previous": "ì´ì „ ë‹¨ì›",
    "next": "ë‹¤ìŒ ë‹¨ì›",
    "backToList": "ëª©ë¡ìœ¼ë¡œ",
    "hints": "íŒíŠ¸",
    "showHints": "íŒíŠ¸ ë³´ê¸°",
    "hideHints": "íŒíŠ¸ ìˆ¨ê¸°ê¸°"
  },
  "playground": {
    "title": "Playground",
    "description": "ììœ ë¡­ê²Œ í”„ë¡¬í”„íŠ¸ë¥¼ ì‹¤í—˜í•´ë³´ì„¸ìš”",
    "placeholder": "í”„ë¡¬í”„íŠ¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”...",
    "submit": "ì‹¤í–‰",
    "clear": "ì´ˆê¸°í™”",
    "copy": "ë³µì‚¬",
    "copied": "ë³µì‚¬ë¨!",
    "charCount": "{count}/4,000ì",
    "response": "AI ì‘ë‹µ",
    "waiting": "AIê°€ ì‘ë‹µì„ ìƒì„±í•˜ê³  ìˆìŠµë‹ˆë‹¤...",
    "empty": "í”„ë¡¬í”„íŠ¸ë¥¼ ì…ë ¥í•˜ê³  ì‹¤í–‰ ë²„íŠ¼ì„ í´ë¦­í•˜ì„¸ìš”",
    "error": "ì‘ë‹µ ìƒì„±ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤. ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.",
    "shortcuts": "ë‹¨ì¶•í‚¤: Ctrl+Enterë¡œ ì‹¤í–‰"
  },
  "errors": {
    "notFound": "í˜ì´ì§€ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤",
    "unauthorized": "ë¡œê·¸ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤",
    "serverError": "ì„œë²„ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤",
    "networkError": "ë„¤íŠ¸ì›Œí¬ ì—°ê²°ì„ í™•ì¸í•´ì£¼ì„¸ìš”"
  }
}
```

### ì˜ì–´ (src/messages/en.json)

```json
{
  "common": {
    "appName": "Prompt Lab",
    "loading": "Loading...",
    "error": "An error occurred",
    "retry": "Retry",
    "save": "Save",
    "cancel": "Cancel",
    "confirm": "Confirm",
    "back": "Back"
  },
  "login": {
    "title": "Enter your student or employee ID",
    "subtitle": "Let's learn Prompt Engineering together!",
    "placeholder": "Enter 9-digit number",
    "submit": "Get Started",
    "error": {
      "invalid": "ID must be exactly 9 digits",
      "failed": "Login failed. Please try again."
    }
  },
  "header": {
    "playground": "Playground",
    "language": "Language",
    "logout": "Logout"
  },
  "learn": {
    "title": "Lessons",
    "subtitle": "Learn the core techniques of Prompt Engineering",
    "progress": "{completed}/{total} completed",
    "allCompleted": "You've completed all lessons! ğŸ‰",
    "completed": "Completed",
    "start": "Start Learning",
    "continue": "Continue",
    "duration": "{duration}"
  },
  "lesson": {
    "content": "Content",
    "practice": "Practice",
    "examples": "Examples",
    "tryExample": "Try this example",
    "tryIt": "Try it yourself",
    "markComplete": "Mark as complete",
    "completed": "Completed âœ“",
    "previous": "Previous",
    "next": "Next",
    "backToList": "Back to list",
    "hints": "Hints",
    "showHints": "Show hints",
    "hideHints": "Hide hints"
  },
  "playground": {
    "title": "Playground",
    "description": "Experiment with prompts freely",
    "placeholder": "Enter your prompt...",
    "submit": "Run",
    "clear": "Clear",
    "copy": "Copy",
    "copied": "Copied!",
    "charCount": "{count}/4,000 chars",
    "response": "AI Response",
    "waiting": "AI is generating a response...",
    "empty": "Enter a prompt and click Run",
    "error": "Failed to generate response. Please try again.",
    "shortcuts": "Shortcut: Ctrl+Enter to run"
  },
  "errors": {
    "notFound": "Page not found",
    "unauthorized": "Login required",
    "serverError": "Server error occurred",
    "networkError": "Please check your network connection"
  }
}
```

---

## ì»´í¬ë„ŒíŠ¸ì—ì„œ ì‚¬ìš©í•˜ê¸°

### í´ë¼ì´ì–¸íŠ¸ ì»´í¬ë„ŒíŠ¸

```typescript
'use client'

import { useTranslations } from 'next-intl'

export default function LoginForm() {
  const t = useTranslations('login')
  
  return (
    <form>
      <h1>{t('title')}</h1>
      <p>{t('subtitle')}</p>
      <input placeholder={t('placeholder')} />
      <button>{t('submit')}</button>
    </form>
  )
}
```

### ì„œë²„ ì»´í¬ë„ŒíŠ¸

```typescript
import { getTranslations } from 'next-intl/server'

export default async function LearnPage() {
  const t = await getTranslations('learn')
  
  return (
    <div>
      <h1>{t('title')}</h1>
      <p>{t('subtitle')}</p>
    </div>
  )
}
```

### ë³€ìˆ˜ í¬í•¨ ë©”ì‹œì§€

```typescript
// ë©”ì‹œì§€: "progress": "{completed}/{total} ì™„ë£Œ"
t('progress', { completed: 2, total: 4 })
// ê²°ê³¼: "2/4 ì™„ë£Œ"
```

---

## ì–¸ì–´ ì „í™˜ êµ¬í˜„

### LanguageToggle ì»´í¬ë„ŒíŠ¸

```typescript
// src/components/common/LanguageToggle.tsx
'use client'

import { useRouter } from 'next/navigation'
import { useLocale } from 'next-intl'
import { locales, localeNames, Locale } from '@/i18n/config'

export default function LanguageToggle() {
  const locale = useLocale() as Locale
  const router = useRouter()

  const handleChange = async (newLocale: Locale) => {
    // 1. localStorage ì €ì¥
    localStorage.setItem('language', newLocale)
    
    // 2. DB ì €ì¥ (ë¡œê·¸ì¸ëœ ê²½ìš°)
    const userId = localStorage.getItem('userId')
    if (userId) {
      await fetch('/api/user/language', {
        method: 'PATCH',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ userId, language: newLocale })
      })
    }
    
    // 3. í˜ì´ì§€ ìƒˆë¡œê³ ì¹¨ (ìƒˆ ì–¸ì–´ ì ìš©)
    router.refresh()
  }

  return (
    <div className="flex gap-2">
      {locales.map((loc) => (
        <button
          key={loc}
          onClick={() => handleChange(loc)}
          className={`px-3 py-1 rounded ${
            locale === loc
              ? 'bg-blue-500 text-white'
              : 'bg-gray-100 text-gray-700 hover:bg-gray-200'
          }`}
        >
          {localeNames[loc]}
        </button>
      ))}
    </div>
  )
}
```

### ì–¸ì–´ ê°ì§€ ë° ì ìš©

```typescript
// src/lib/getLocale.ts
import { cookies } from 'next/headers'
import { defaultLocale, Locale, locales } from '@/i18n/config'

export async function getLocale(): Promise<Locale> {
  // 1. ì¿ í‚¤ì—ì„œ í™•ì¸
  const cookieStore = cookies()
  const cookieLocale = cookieStore.get('NEXT_LOCALE')?.value as Locale
  if (cookieLocale && locales.includes(cookieLocale)) {
    return cookieLocale
  }
  
  // 2. ê¸°ë³¸ ì–¸ì–´ ë°˜í™˜
  return defaultLocale
}
```

---

## í•™ìŠµ ì½˜í…ì¸  ë‹¤êµ­ì–´

í•™ìŠµ ì½˜í…ì¸ ëŠ” ë³„ë„ì˜ JSON íŒŒì¼ë¡œ ê´€ë¦¬í•©ë‹ˆë‹¤:

```
data/lessons/
â”œâ”€â”€ ko/
â”‚   â”œâ”€â”€ intro.json
â”‚   â”œâ”€â”€ zero-shot.json
â”‚   â”œâ”€â”€ few-shot.json
â”‚   â””â”€â”€ chain-of-thought.json
â””â”€â”€ en/
    â”œâ”€â”€ intro.json
    â”œâ”€â”€ zero-shot.json
    â”œâ”€â”€ few-shot.json
    â””â”€â”€ chain-of-thought.json
```

### ì½˜í…ì¸  ë¡œë”©

```typescript
// src/lib/lessons.ts
export async function getLesson(
  slug: string, 
  language: 'ko' | 'en'
): Promise<Lesson | null> {
  try {
    const lesson = await import(`@/data/lessons/${language}/${slug}.json`)
    return lesson.default as Lesson
  } catch {
    return null
  }
}
```

---

## ë²ˆì—­ ê°€ì´ë“œë¼ì¸

### ì¼ë°˜ ì›ì¹™

1. **ìì—°ìŠ¤ëŸ¬ìš´ í‘œí˜„**
   - ì§ì—­ë³´ë‹¤ ì˜ì—­
   - ê° ì–¸ì–´ì˜ ê´€ìš©ì  í‘œí˜„ ì‚¬ìš©

2. **ì¼ê´€ì„±**
   - ë™ì¼í•œ ìš©ì–´ëŠ” ë™ì¼í•˜ê²Œ ë²ˆì—­
   - ìš©ì–´ì§‘ ìœ ì§€

3. **ë§¥ë½ ê³ ë ¤**
   - UI ìš”ì†Œì˜ ê³µê°„ ì œì•½ ê³ ë ¤
   - ì‚¬ìš© ë§¥ë½ì— ë§ëŠ” ì–´íœ˜ ì„ íƒ

### ìš©ì–´ì§‘

| ì˜ì–´ | í•œêµ­ì–´ |
|------|--------|
| Prompt Engineering | í”„ë¡¬í”„íŠ¸ ì—”ì§€ë‹ˆì–´ë§ |
| Zero-shot | Zero-shot (ê·¸ëŒ€ë¡œ) |
| Few-shot | Few-shot (ê·¸ëŒ€ë¡œ) |
| Chain of Thought | Chain of Thought (ê·¸ëŒ€ë¡œ) |
| Playground | Playground (ê·¸ëŒ€ë¡œ) |
| student ID | í•™ë²ˆ |
| employee ID | ì‚¬ë²ˆ |
| lesson | ë‹¨ì›/í•™ìŠµ |
| completed | ì™„ë£Œ |

---

## í…ŒìŠ¤íŠ¸

### ì–¸ì–´ ì „í™˜ í…ŒìŠ¤íŠ¸

1. ë¡œê·¸ì¸ í˜ì´ì§€ì—ì„œ ì–¸ì–´ ì „í™˜
2. í•™ìŠµ ëª©ë¡ í˜ì´ì§€ í…ìŠ¤íŠ¸ í™•ì¸
3. í•™ìŠµ ìƒì„¸ í˜ì´ì§€ ì½˜í…ì¸  í™•ì¸
4. Playground ë©”ì‹œì§€ í™•ì¸
5. ìƒˆë¡œê³ ì¹¨ í›„ ì–¸ì–´ ìœ ì§€ í™•ì¸

### ë©”ì‹œì§€ ëˆ„ë½ í…ŒìŠ¤íŠ¸

```bash
# í‚¤ ë¹„êµ ìŠ¤í¬ë¦½íŠ¸ (ì˜ˆì‹œ)
node scripts/compare-messages.js
```

---

## ì²´í¬ë¦¬ìŠ¤íŠ¸

### ì„¤ì •
- [ ] next-intl íŒ¨í‚¤ì§€ ì„¤ì¹˜
- [ ] i18n/config.ts ì‘ì„±
- [ ] i18n/request.ts ì‘ì„±
- [ ] next.config.js ìˆ˜ì •

### ë©”ì‹œì§€ íŒŒì¼
- [ ] src/messages/ko.json
- [ ] src/messages/en.json
- [ ] ëª¨ë“  í‚¤ ë™ì¼í•œì§€ í™•ì¸

### ì»´í¬ë„ŒíŠ¸
- [ ] LanguageToggle êµ¬í˜„
- [ ] ëª¨ë“  í•˜ë“œì½”ë”© í…ìŠ¤íŠ¸ ì œê±°
- [ ] useTranslations ì ìš©

### í•™ìŠµ ì½˜í…ì¸ 
- [ ] data/lessons/ko/*.json
- [ ] data/lessons/en/*.json

### í…ŒìŠ¤íŠ¸
- [ ] ì–¸ì–´ ì „í™˜ ë™ì‘
- [ ] ìƒˆë¡œê³ ì¹¨ í›„ ìœ ì§€
- [ ] DB ì €ì¥ ë™ì‘
- [ ] ëª¨ë“  í˜ì´ì§€ í™•ì¸
